---
title: Automated testing in Angular
---

## Introduction

Angular provides extensive testing capabilities, based on a bundling of Jasmine (which is a framework providing basic testing capabilities,  `assert` style functions and mocking) and Karma (which provides runners to run tests in Node and a variety of browsers).

The standard approach is to write all tests in files whose names end in `.spec.ts`. The default Karma runner generated by Angular's `ng new` looks for files of that name in the whole source tree.  You put component & service tests into the source directories as siblings of the files they're testing, and more integration-test oriented ones in some central `tests` location.

## Jasmine

The first thing I noticed when writing a spec file is that I didn't need to import Jasmine - the functions `describe` and `it` were already in scope. How did that happen!?

Polyfills are when you run a script that patches your current environment to add functionality that it's missing; it's just a straightforward assignment of function pointers to names at root level, so that clearly wasn't it.

The answer seems to be that Jasmine is in control of the search for and execution of specs, so it can set up the environment how it likes before calling the specs. It's adding its `describe`, `it` and probably loads of other stuff before executing the spec.

The specs that Jasmine runs are generally in its own config file; in Angular, however, they're gathered in the `tests.ts` file using a call to `require.context`. `require.context` is part of WebPack, and is used to generate references to a list of of-interest modules for WebPack to bundle. 

The outputs from `tests.ts` (presumably bundled by WebPack using `karma-webpack`) are given to Karma in some way; this is more complicated than we need to understand right now, so let's just write the tests in the prescribed way and move on!

